<p-dialog
  header="Update Recruiter Information"
  [(visible)]="isVisible"
  [modal]="true"
  [style]="{ width: '500px' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onModalClosed()">
  <form [formGroup]="modalForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
    <div class="flex flex-col w-full">
      <div class="flex flex-col gap-2">
        <label for="position">Position</label>
        <input
          pInputText
          type="text"
          id="position"
          placeholder="Head of HR"
          formControlName="position" />
      </div>
      <div *ngIf="position.invalid && (position.dirty || position.touched)">
        <small *ngIf="position.errors?.['serverError']" class="p-error">
          {{ position.errors['serverError'] }}
        </small>
      </div>
    </div>

    <p-divider></p-divider>

    <div class="flex flex-col w-full">
      <div class="flex flex-col gap-2">
        <label for="company_name">Company Name</label>
        <input
          pInputText
          required
          type="text"
          id="company_name"
          placeholder="Crudex Inc."
          formControlName="company_name" />
      </div>
      <div *ngIf="companyName.invalid && (companyName.dirty || companyName.touched)">
        <small *ngIf="companyName.errors?.['required']" class="p-error"
          >Company name is required.</small
        >
        <small *ngIf="companyName.errors?.['serverError']" class="p-error">
          {{ companyName.errors['serverError'] }}
        </small>
      </div>
    </div>

    <div class="flex flex-col w-full">
      <div class="flex flex-col gap-2">
        <label for="company_url">Company URL</label>
        <input
          pInputText
          type="text"
          id="company_url"
          placeholder="https://crudex.com"
          formControlName="company_url" />
      </div>
      <div *ngIf="companyUrl.invalid && (companyUrl.dirty || companyUrl.touched)">
        <small *ngIf="companyUrl.errors?.['serverError']" class="p-error">
          {{ companyUrl.errors['serverError'] }}
        </small>
      </div>
    </div>

    <div class="flex flex-col w-full">
      <div class="flex flex-col gap-2">
        <label for="company_description">Company Description</label>
        <textarea
          rows="5"
          cols="30"
          id="company_description"
          pInputTextarea
          formControlName="company_description"
          placeholder="The company was founded in the 1995 ..."></textarea>
      </div>
      <div
        *ngIf="
          companyDescription.invalid && (companyDescription.dirty || companyDescription.touched)
        ">
        <small *ngIf="companyDescription.errors?.['serverError']" class="p-error">
          {{ companyDescription.errors['serverError'] }}
        </small>
      </div>
    </div>

    <p-divider></p-divider>

    <button
      pButton
      label="Update recruiter information"
      type="submit"
      class="w-full p-button-success"
      [disabled]="modalForm.disabled || !modalForm.valid"></button>
  </form>
</p-dialog>
